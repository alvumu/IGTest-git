<ul class="list">
{% assign pathContains = include.pathContains | default: '' %}
{% assign section      = include.section      | default: '' %}
{% assign nav          = include.nav          | default: '' %}
{% assign termKind     = include.termKind     | default: '' %}
{% assign excludeIndex = include.excludeIndex | default: true %}

{% assign pages = site.html_pages | concat: site.pages %}

{% if pathContains != '' %}
  {% assign pages = pages | where_exp:'p','p.path contains pathContains' %}
{% endif %}

{% if section != '' %}
  {% assign pages = pages | where_exp:'p','p.url contains section' %}
{% endif %}

{% if nav != '' %}
  {% assign pages = pages | where:'navSection', nav %}
{% endif %}

{% if termKind != '' %}
  {% assign pages = pages | where:'termKind', termKind %}
{% endif %}

{% assign pages = pages | uniq | sort:'title' %}

{% assign any = false %}
{% for p in pages %}
  {% assign title = p.title | default:p.name | default:p.url %}
  <li><a href="{{ p.url | relative_url }}">{{ title }}</a></li>
  {% assign any = true %}
{% endfor %}

{% unless any %}
  <li><em>No entries found</em></li>
{% endunless %}
</ul>
